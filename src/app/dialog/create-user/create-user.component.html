

<div class="container font_letter">
	<div class="row">
		<div class=" col-6">
			<h2 mat-dialog-title class="modal-form__title" *ngIf="this.data.id == 0">Crear Usuario</h2>
    	<h2 mat-dialog-title class="modal-form__title" *ngIf="this.data.id != 0">Actualizar Usuario</h2>
		</div>
		<div class="col-6 align-btn">
			<mat-icon [mat-dialog-close]="true" style="cursor:pointer">close</mat-icon>
		</div>
	</div>
</div>
<br><br>
<div class="container font_letter">
	<form [formGroup]="validationForm">
		<div class="row m-3">
			<div class="col-12 col-md-6">
				<mdb-form-control>
					<input required [(ngModel)]="data.name" [formControl]="name"  mdbInput type="text" id="name" class="form-control" />
					<label mdbLabel class="form-label" for="name">Nombre *</label>	
				</mdb-form-control>
				<mat-hint style="color:#e91e63; font-size: 12px;" *ngIf="name.invalid  && validar">Campo requerido</mat-hint>
				<!-- && (name?.dirty || name?.touched) -->
			</div>
			<div class="col-12 col-md-6">
				<mdb-form-control>
					<input required [(ngModel)]="data.lastName" [formControl]="lastName"  mdbInput type="text" id="apellidoP" class="form-control" />
					<label mdbLabel class="form-label" for="apellidoP">Apellido Paterno *</label>
					
				</mdb-form-control>
				<mat-hint style="color:#e91e63; font-size: 12px;" *ngIf="lastName.invalid &&  validar">Campo requerido</mat-hint>
				<!-- (lastName?.dirty || lastName?.touched) && -->
			</div>
		</div>
		<div class="row m-3">
			<div class="col-12 col-md-6">
				<mdb-form-control>
					<input  [(ngModel)]="data.motherLastName"  [formControl]="motherLastName"  mdbInput type="text" id="apellidoM" class="form-control" />
					<label mdbLabel class="form-label" for="apellidoM">Apellido Materno </label>
				</mdb-form-control>
				<!-- <mat-hint style="color:#e91e63; font-size: 12px;" *ngIf="motherLastName.invalid && validar">Campo requerido</mat-hint> -->
				<!-- (motherLastName?.dirty || motherLastName?.touched) &&  -->
			</div>
			<div class="col-12 col-md-6">

				<mdb-form-control>
					<input required [(ngModel)]="data.email" [formControl]="email"  mdbInput type="email" id="email" class="form-control" 
					(change)="removeErrorLabel( $event.target, {handler: nso_ainfo_fields, field: 'no_emai'} );
					validEmailAssignee();
					validateEmailServerAvailability();"
					/>
					<label mdbLabel class="form-label" for="email"
					>Correo *</label>
				</mdb-form-control>
				<mat-hint style="color:#e91e63; font-size: 12px;" *ngIf="email.invalid  && validar">Campo requerido</mat-hint>
				<!-- && (email?.dirty || email?.touched) -->
			</div>
		</div>
		<div class="row m-3">
			<div class="col-12 col-md-6">
				<mdb-form-control>	
					<select mdbInput class="form-control" required [(ngModel)]="data.roleId" [formControl]="roleId" name="" id="role">
						<option *ngFor="let option of roleData" [value]="option.id">{{ option.role }}</option>
					</select>
					<label mdbLabel class="form-label" for="role">Role *</label>
				</mdb-form-control>
				<mat-hint style="color:#e91e63; font-size: 12px;" *ngIf="roleId.invalid  && validar">Campo requerido</mat-hint>
				<!-- && (roleId?.dirty || roleId?.touched) -->
			</div>
			<div class="col-12 col-md-6">
				<mdb-form-control>
					<input required [(ngModel)]="data.mobilePhone" [formControl]="mobilePhone" mdbInput type="tel" id="cel" class="form-control" />
					<label mdbLabel class="form-label" for="cel">Celular *</label>
				</mdb-form-control>
					<mat-hint style="color:#e91e63; font-size: 12px;" *ngIf="mobilePhone.invalid  && validar">Campo requerido</mat-hint>
					<!-- && (mobilePhone?.dirty || mobilePhone?.touched) -->
			</div>
		</div>
		<div class="row m-3">
			<div class="col-12 col-md-6">
				<mdb-form-control>
					<input  [(ngModel)]="data.phone" [formControl]="phone" mdbInput type="tel" id="tel" class="form-control" />
					<label mdbLabel class="form-label" for="tel">Telefono </label>
				</mdb-form-control>
				<!-- <mat-hint style="color:#e91e63; font-size: 12px;" *ngIf="phone.invalid && (phone?.dirty || phone?.touched) && validar">Campo requerido</mat-hint> -->
			</div>
			<div [hidden]="data.id == 0" class="col-12 col-md-6 changePass">
				<span (click)="changePassword(data.email)">Cambiar Contrase√±a</span>
			</div>
		</div>
		<br>
		
		<div class="col-12 align-btn">
			<button style="background: #1F4C7A;"  [disabled]="btnDisables == true" (click)="save()" type="button" class="btn btn-primary btn-rounded mobile-btn">Guardar</button>					
		</div>
		
	</form>
</div>
